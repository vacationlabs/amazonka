<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.AWS.Kinesis.GetRecords</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-AWS-Kinesis-GetRecords.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">amazonka-kinesis-0.3.4: Amazon Kinesis SDK.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.AWS.Kinesis.GetRecords</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Request</a><ul><li><a href="#g:2">Request constructor</a></li><li><a href="#g:3">Request lenses</a></li></ul></li><li><a href="#g:4">Response</a><ul><li><a href="#g:5">Response constructor</a></li><li><a href="#g:6">Response lenses</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Gets data records from a shard.</p><p>Specify a shard iterator using the <code>ShardIterator</code> parameter. The shard
 iterator specifies the position in the shard from which you want to start
 reading data records sequentially. If there are no records available in the
 portion of the shard that the iterator points to, <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> returns an empty
 list. Note that it might take multiple calls to get to a portion of the shard
 that contains records.</p><p>You can scale by provisioning multiple shards. Your application should have
 one thread per shard, each reading continuously from its stream. To read from
 a stream continually, call <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> in a loop. Use <code>GetShardIterator</code> to get
 the shard iterator to specify in the first <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> call. <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code>
 returns a new shard iterator in <code>NextShardIterator</code>. Specify the shard iterator
 returned in <code>NextShardIterator</code> in subsequent calls to <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code>. Note that if
 the shard has been closed, the shard iterator can't return more data and <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> returns <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Foldable.html#v:null">null</a></code> in <code>NextShardIterator</code>. You can terminate the loop when the shard
 is closed, or when the shard iterator reaches the record with the sequence
 number or other attribute that marks it as the last record to process.</p><p>Each data record can be up to 50 KB in size, and each shard can read up to 2
 MB per second. You can ensure that your calls don't exceed the maximum
 supported size or throughput by using the <code>Limit</code> parameter to specify the
 maximum number of records that <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> can return. Consider your average
 record size when determining this limit. For example, if your average record
 size is 40 KB, you can limit the data returned to about 1 MB per call by
 specifying 25 as the limit.</p><p>The size of the data returned by <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> will vary depending on the
 utilization of the shard. The maximum size of data that <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> can return
 is 10 MB. If a call returns 10 MB of data, subsequent calls made within the
 next 5 seconds throw <code>ProvisionedThroughputExceededException</code>. If there is
 insufficient provisioned throughput on the shard, subsequent calls made
 within the next 1 second throw <code>ProvisionedThroughputExceededException</code>. Note
 that <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> won't return any data when it throws an exception. For this
 reason, we recommend that you wait one second between calls to <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code>;
 however, it's possible that the application will get exceptions for longer
 than 1 second.</p><p>To detect whether the application is falling behind in processing, add a
 timestamp to your records and note how long it takes to process them. You can
 also monitor how much data is in a stream using the CloudWatch metrics for
 write operations (<code>PutRecord</code> and <code>PutRecords</code>). For more information, see <a href="http://docs.aws.amazon.com/kinesis/latest/dev/monitoring_with_cloudwatch.html">Monitoring Amazon Kinesis with Amazon CloudWatch</a> in the <em>Amazon Kinesis Developer Guide</em>.</p><p><a href="http://docs.aws.amazon.com/kinesis/latest/APIReference/API_GetRecords.html">http://docs.aws.amazon.com/kinesis/latest/APIReference/API_GetRecords.html</a></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:GetRecords">GetRecords</a></li><li class="src short"><a href="#v:getRecords">getRecords</a> :: Text -&gt; <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></li><li class="src short"><a href="#v:grLimit">grLimit</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a>)</li><li class="src short"><a href="#v:grShardIterator">grShardIterator</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a> Text</li><li class="src short"><span class="keyword">data</span> <a href="#t:GetRecordsResponse">GetRecordsResponse</a></li><li class="src short"><a href="#v:getRecordsResponse">getRecordsResponse</a> :: <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></li><li class="src short"><a href="#v:grrNextShardIterator">grrNextShardIterator</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</li><li class="src short"><a href="#v:grrRecords">grrRecords</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a> [<a href="Network-AWS-Kinesis-Types.html#t:Record">Record</a>]</li></ul></div><div id="interface"><h1 id="g:1">Request</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:GetRecords" class="def">GetRecords</a></p><div class="subs instances"><p id="control.i:GetRecords" class="caption collapser" onclick="toggleSection('i:GetRecords')">Instances</p><div id="section.i:GetRecords" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">AWSRequest <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToQuery <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToPath <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToHeaders <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Sv <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a> = <a href="Network-AWS-Kinesis-Types.html#t:Kinesis">Kinesis</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Rs <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a> = <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:2">Request constructor</h2><div class="top"><p class="src"><a name="v:getRecords" class="def">getRecords</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Text</td><td class="doc"><p><code><a href="Network-AWS-Kinesis-GetRecords.html#v:grShardIterator">grShardIterator</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-Kinesis-GetRecords.html#v:grLimit">grLimit</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a></code></li><li><code><a href="Network-AWS-Kinesis-GetRecords.html#v:grShardIterator">grShardIterator</a></code> <code>::</code> <code>Text</code></li></ul></div></div><h2 id="g:3">Request lenses</h2><div class="top"><p class="src"><a name="v:grLimit" class="def">grLimit</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a>)</p><div class="doc"><p>The maximum number of records to return. Specify a value of up to 10,000. If
 you specify a value that is greater than 10,000, <code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a></code> throws <code>InvalidArgumentException</code>.</p></div></div><div class="top"><p class="src"><a name="v:grShardIterator" class="def">grShardIterator</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecords">GetRecords</a> Text</p><div class="doc"><p>The position in the shard from which you want to start sequentially reading
 data records. A shard iterator specifies this position using the sequence
 number of a data record in the shard.</p></div></div><h1 id="g:4">Response</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:GetRecordsResponse" class="def">GetRecordsResponse</a></p><div class="subs instances"><p id="control.i:GetRecordsResponse" class="caption collapser" onclick="toggleSection('i:GetRecordsResponse')">Instances</p><div id="section.i:GetRecordsResponse" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:5">Response constructor</h2><div class="top"><p class="src"><a name="v:getRecordsResponse" class="def">getRecordsResponse</a> :: <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></p><div class="doc"><p><code><a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-Kinesis-GetRecords.html#v:grrNextShardIterator">grrNextShardIterator</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code>Text</code></li><li><code><a href="Network-AWS-Kinesis-GetRecords.html#v:grrRecords">grrRecords</a></code> <code>::</code> [<code><a href="Network-AWS-Kinesis-Types.html#t:Record">Record</a></code>]</li></ul></div></div><h2 id="g:6">Response lenses</h2><div class="top"><p class="src"><a name="v:grrNextShardIterator" class="def">grrNextShardIterator</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</p><div class="doc"><p>The next position in the shard from which to start sequentially reading data
 records. If set to <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Foldable.html#v:null">null</a></code>, the shard has been closed and the requested iterator
 will not return any more data.</p></div></div><div class="top"><p class="src"><a name="v:grrRecords" class="def">grrRecords</a> :: Lens' <a href="Network-AWS-Kinesis-GetRecords.html#t:GetRecordsResponse">GetRecordsResponse</a> [<a href="Network-AWS-Kinesis-Types.html#t:Record">Record</a>]</p><div class="doc"><p>The data records retrieved from the shard.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>