<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.AWS.STS.GetFederationToken</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-AWS-STS-GetFederationToken.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">amazonka-sts-0.3.4: Amazon Security Token Service SDK.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.AWS.STS.GetFederationToken</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Request</a><ul><li><a href="#g:2">Request constructor</a></li><li><a href="#g:3">Request lenses</a></li></ul></li><li><a href="#g:4">Response</a><ul><li><a href="#g:5">Response constructor</a></li><li><a href="#g:6">Response lenses</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Returns a set of temporary security credentials (consisting of an access key
 ID, a secret access key, and a security token) for a federated user. A
 typical use is in a proxy application that gets temporary security
 credentials on behalf of distributed applications inside a corporate network.
 Because you must call the <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> action using the long-term
 security credentials of an IAM user, this call is appropriate in contexts
 where those credentials can be safely stored, usually in a server-based
 application.</p><p>Note: Do not use this call in mobile applications or client-based web
 applications that directly get temporary security credentials. For those
 types of applications, use <code>AssumeRoleWithWebIdentity</code>.</p><p>The <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> action must be called by using the long-term AWS
 security credentials of an IAM user. You can also call <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code>
 using the security credentials of an AWS account (root), but this is not
 recommended. Instead, we recommend that you create an IAM user for the
 purpose of the proxy application and then attach a policy to the IAM user
 that limits federated users to only the actions and resources they need
 access to. For more information, see <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/IAMBestPractices.html">IAM Best Practices</a> in <em>Using IAM</em>.</p><p>The temporary security credentials that are obtained by using the long-term
 credentials of an IAM user are valid for the specified duration, between 900
 seconds (15 minutes) and 129600 seconds (36 hours). Temporary credentials
 that are obtained by using AWS account (root) credentials have a maximum
 duration of 3600 seconds (1 hour)</p><p>Permissions</p><p>The permissions for the temporary security credentials returned by <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> are determined by a combination of the following:</p><p>The policy or policies that are attached to the IAM user whose credentials
 are used to call <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code>. The policy that is passed as a parameter
 in the call.  The passed policy is attached to the temporary security
 credentials that result from the <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> API call--that is, to the <em>federated user</em>. When the federated user makes an AWS request, AWS evaluates
 the policy attached to the federated user in combination with the policy or
 policies attached to the IAM user whose credentials were used to call <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code>. AWS allows the federated user's request only when both the federated user <em>and</em> the IAM user are explicitly allowed to perform the requested action. The
 passed policy cannot grant more permissions than those that are defined in
 the IAM user policy.</p><p>A typical use case is that the permissions of the IAM user whose credentials
 are used to call <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> are designed to allow access to all the
 actions and resources that any federated user will need. Then, for individual
 users, you pass a policy to the operation that scopes down the permissions to
 a level that's appropriate to that individual user, using a policy that
 allows only a subset of permissions that are granted to the IAM user.</p><p>If you do not pass a policy, the resulting temporary security credentials
 have no effective permissions. The only exception is when the temporary
 security credentials are used to access a resource that has a resource-based
 policy that specifically allows the federated user to access the resource.</p><p>For more information about how permissions work, see <a href="http://docs.aws.amazon.com/STS/latest/UsingSTS/permissions-get-federation-token.html">Permissions forGetFederationToken</a> in <em>Using Temporary Security Credentials</em>. For information
 about using <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> to create temporary security credentials, see <a href="http://docs.aws.amazon.com/STS/latest/UsingSTS/CreatingFedTokens.html">Creating Temporary Credentials to Enable Access for Federated Users</a> in <em>Using Temporary Security Credentials</em>.</p><p><a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html">http://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html</a></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:GetFederationToken">GetFederationToken</a></li><li class="src short"><a href="#v:getFederationToken">getFederationToken</a> :: Text -&gt; <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></li><li class="src short"><a href="#v:gftDurationSeconds">gftDurationSeconds</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a>)</li><li class="src short"><a href="#v:gftName">gftName</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> Text</li><li class="src short"><a href="#v:gftPolicy">gftPolicy</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</li><li class="src short"><span class="keyword">data</span> <a href="#t:GetFederationTokenResponse">GetFederationTokenResponse</a></li><li class="src short"><a href="#v:getFederationTokenResponse">getFederationTokenResponse</a> :: <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></li><li class="src short"><a href="#v:gftrCredentials">gftrCredentials</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-STS-Types.html#t:Credentials">Credentials</a>)</li><li class="src short"><a href="#v:gftrFederatedUser">gftrFederatedUser</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-STS-Types.html#t:FederatedUser">FederatedUser</a>)</li><li class="src short"><a href="#v:gftrPackedPolicySize">gftrPackedPolicySize</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a>)</li></ul></div><div id="interface"><h1 id="g:1">Request</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:GetFederationToken" class="def">GetFederationToken</a></p><div class="subs instances"><p id="control.i:GetFederationToken" class="caption collapser" onclick="toggleSection('i:GetFederationToken')">Instances</p><div id="section.i:GetFederationToken" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">AWSRequest <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToQuery <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToPath <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToHeaders <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Sv <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> = <a href="Network-AWS-STS-Types.html#t:STS">STS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Rs <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> = <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:2">Request constructor</h2><div class="top"><p class="src"><a name="v:getFederationToken" class="def">getFederationToken</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Text</td><td class="doc"><p><code><a href="Network-AWS-STS-GetFederationToken.html#v:gftName">gftName</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-STS-GetFederationToken.html#v:gftDurationSeconds">gftDurationSeconds</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a></code></li><li><code><a href="Network-AWS-STS-GetFederationToken.html#v:gftName">gftName</a></code> <code>::</code> <code>Text</code></li><li><code><a href="Network-AWS-STS-GetFederationToken.html#v:gftPolicy">gftPolicy</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code>Text</code></li></ul></div></div><h2 id="g:3">Request lenses</h2><div class="top"><p class="src"><a name="v:gftDurationSeconds" class="def">gftDurationSeconds</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a>)</p><div class="doc"><p>The duration, in seconds, that the session should last. Acceptable durations
 for federation sessions range from 900 seconds (15 minutes) to 129600 seconds
 (36 hours), with 43200 seconds (12 hours) as the default. Sessions obtained
 using AWS account (root) credentials are restricted to a maximum of 3600
 seconds (one hour). If the specified duration is longer than one hour, the
 session obtained by using AWS account (root) credentials defaults to one
 hour.</p></div></div><div class="top"><p class="src"><a name="v:gftName" class="def">gftName</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> Text</p><div class="doc"><p>The name of the federated user. The name is used as an identifier for the
 temporary security credentials (such as <code>Bob</code>). For example, you can reference
 the federated user name in a resource-based policy, such as in an Amazon S3
 bucket policy.</p></div></div><div class="top"><p class="src"><a name="v:gftPolicy" class="def">gftPolicy</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> Text)</p><div class="doc"><p>An IAM policy in JSON format that is passed with the <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code> call
 and evaluated along with the policy or policies that are attached to the IAM
 user whose credentials are used to call <code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationToken">GetFederationToken</a></code>. The passed policy
 is used to scope down the permissions that are available to the IAM user, by
 allowing only a subset of the permissions that are granted to the IAM user.
 The passed policy cannot grant more permissions than those granted to the IAM
 user. The final permissions for the federated user are the most restrictive
 set based on the intersection of the passed policy and the IAM user policy.</p><p>If you do not pass a policy, the resulting temporary security credentials
 have no effective permissions. The only exception is when the temporary
 security credentials are used to access a resource that has a resource-based
 policy that specifically allows the federated user to access the resource.</p><p>For more information about how permissions work, see <a href="http://docs.aws.amazon.com/STS/latest/UsingSTS/permissions-get-federation-token.html">Permissions forGetFederationToken</a> in <em>Using Temporary Security Credentials</em>.</p></div></div><h1 id="g:4">Response</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:GetFederationTokenResponse" class="def">GetFederationTokenResponse</a></p><div class="subs instances"><p id="control.i:GetFederationTokenResponse" class="caption collapser" onclick="toggleSection('i:GetFederationTokenResponse')">Instances</p><div id="section.i:GetFederationTokenResponse" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromXML <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:5">Response constructor</h2><div class="top"><p class="src"><a name="v:getFederationTokenResponse" class="def">getFederationTokenResponse</a> :: <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></p><div class="doc"><p><code><a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-STS-GetFederationToken.html#v:gftrCredentials">gftrCredentials</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="Network-AWS-STS-Types.html#t:Credentials">Credentials</a></code></li><li><code><a href="Network-AWS-STS-GetFederationToken.html#v:gftrFederatedUser">gftrFederatedUser</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="Network-AWS-STS-Types.html#t:FederatedUser">FederatedUser</a></code></li><li><code><a href="Network-AWS-STS-GetFederationToken.html#v:gftrPackedPolicySize">gftrPackedPolicySize</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a></code></li></ul></div></div><h2 id="g:6">Response lenses</h2><div class="top"><p class="src"><a name="v:gftrCredentials" class="def">gftrCredentials</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-STS-Types.html#t:Credentials">Credentials</a>)</p><div class="doc"><p>Credentials for the service API authentication.</p></div></div><div class="top"><p class="src"><a name="v:gftrFederatedUser" class="def">gftrFederatedUser</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-STS-Types.html#t:FederatedUser">FederatedUser</a>)</p><div class="doc"><p>Identifiers for the federated user associated with the credentials (such as 'arn:aws:sts::123456789012:federated-user/Bob' or '123456789012:Bob'). You can use the federated user's ARN in your
 resource-based policies, such as an Amazon S3 bucket policy.</p></div></div><div class="top"><p class="src"><a name="v:gftrPackedPolicySize" class="def">gftrPackedPolicySize</a> :: Lens' <a href="Network-AWS-STS-GetFederationToken.html#t:GetFederationTokenResponse">GetFederationTokenResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Numeric-Natural.html#t:Natural">Natural</a>)</p><div class="doc"><p>A percentage value indicating the size of the policy in packed form. The
 service rejects policies for which the packed size is greater than 100
 percent of the allowed value.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>