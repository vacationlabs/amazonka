<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.AWS.SQS.ReceiveMessage</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-AWS-SQS-ReceiveMessage.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">amazonka-sqs-0.3.4: Amazon Simple Queue Service SDK.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.AWS.SQS.ReceiveMessage</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Request</a><ul><li><a href="#g:2">Request constructor</a></li><li><a href="#g:3">Request lenses</a></li></ul></li><li><a href="#g:4">Response</a><ul><li><a href="#g:5">Response constructor</a></li><li><a href="#g:6">Response lenses</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Retrieves one or more messages, with a maximum limit of 10 messages, from
 the specified queue. Long poll support is enabled by using the <code>WaitTimeSeconds</code>
 parameter. For more information, see <a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-long-polling.html">Amazon SQS Long Poll</a> in the <em>Amazon SQSDeveloper Guide</em>.</p><p>Short poll is the default behavior where a weighted random set of machines
 is sampled on a <code><a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></code> call. This means only the messages on the
 sampled machines are returned. If the number of messages in the queue is
 small (less than 1000), it is likely you will get fewer messages than you
 requested per <code><a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></code> call. If the number of messages in the queue is
 extremely small, you might not receive any messages in a particular <code><a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></code> response; in which case you should repeat the request.</p><p>For each message returned, the response includes the following:</p><p>Message body</p><p>MD5 digest of the message body. For information about MD5, go to <a href="http://www.faqs.org/rfcs/rfc1321.html">http://www.faqs.org/rfcs/rfc1321.html</a>.</p><p>Message ID you received when you sent the message to the queue.</p><p>Receipt handle.</p><p>Message attributes.</p><p>MD5 digest of the message attributes.</p><p>The receipt handle is the identifier you must provide when deleting the
 message. For more information, see <a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/ImportantIdentifiers.html">Queue and Message Identifiers</a> in the <em>Amazon SQS Developer Guide</em>.</p><p>You can provide the <code>VisibilityTimeout</code> parameter in your request, which will
 be applied to the messages that Amazon SQS returns in the response. If you do
 not include the parameter, the overall visibility timeout for the queue is
 used for the returned messages. For more information, see <a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/AboutVT.html">Visibility Timeout</a>
 in the <em>Amazon SQS Developer Guide</em>.</p><p>Going forward, new attributes might be added. If you are writing code that
 calls this action, we recommend that you structure your code so that it can
 handle new attributes gracefully.</p><p><a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ReceiveMessage.html">http://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ReceiveMessage.html</a></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:ReceiveMessage">ReceiveMessage</a></li><li class="src short"><a href="#v:receiveMessage">receiveMessage</a> :: Text -&gt; <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></li><li class="src short"><a href="#v:rmAttributeNames">rmAttributeNames</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> [Text]</li><li class="src short"><a href="#v:rmMaxNumberOfMessages">rmMaxNumberOfMessages</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:rmMessageAttributeNames">rmMessageAttributeNames</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> [Text]</li><li class="src short"><a href="#v:rmQueueUrl">rmQueueUrl</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> Text</li><li class="src short"><a href="#v:rmVisibilityTimeout">rmVisibilityTimeout</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:rmWaitTimeSeconds">rmWaitTimeSeconds</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:ReceiveMessageResponse">ReceiveMessageResponse</a></li><li class="src short"><a href="#v:receiveMessageResponse">receiveMessageResponse</a> :: <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></li><li class="src short"><a href="#v:rmrMessages">rmrMessages</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a> [<a href="Network-AWS-SQS-Types.html#t:Message">Message</a>]</li></ul></div><div id="interface"><h1 id="g:1">Request</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ReceiveMessage" class="def">ReceiveMessage</a></p><div class="subs instances"><p id="control.i:ReceiveMessage" class="caption collapser" onclick="toggleSection('i:ReceiveMessage')">Instances</p><div id="section.i:ReceiveMessage" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">AWSRequest <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToQuery <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToPath <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToHeaders <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Sv <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> = <a href="Network-AWS-SQS-Types.html#t:SQS">SQS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> Rs <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> = <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:2">Request constructor</h2><div class="top"><p class="src"><a name="v:receiveMessage" class="def">receiveMessage</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Text</td><td class="doc"><p><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmQueueUrl">rmQueueUrl</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmAttributeNames">rmAttributeNames</a></code> <code>::</code> [<code>Text</code>]</li><li><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmMaxNumberOfMessages">rmMaxNumberOfMessages</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a></code></li><li><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmMessageAttributeNames">rmMessageAttributeNames</a></code> <code>::</code> [<code>Text</code>]</li><li><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmQueueUrl">rmQueueUrl</a></code> <code>::</code> <code>Text</code></li><li><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmVisibilityTimeout">rmVisibilityTimeout</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a></code></li><li><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmWaitTimeSeconds">rmWaitTimeSeconds</a></code> <code>::</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a></code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a></code></li></ul></div></div><h2 id="g:3">Request lenses</h2><div class="top"><p class="src"><a name="v:rmAttributeNames" class="def">rmAttributeNames</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> [Text]</p><div class="doc"><p>A list of attributes that need to be returned along with each message.</p><p>The following lists the names and descriptions of the attributes that can
 be returned:</p><p><code>All</code> - returns all values.  <code>ApproximateFirstReceiveTimestamp</code> - returns the
 time when the message was first received from the queue (epoch time in
 milliseconds).  <code>ApproximateReceiveCount</code> - returns the number of times a
 message has been received from the queue but not deleted.  <code>SenderId</code> - returns
 the AWS account number (or the IP address, if anonymous access is allowed) of
 the sender.  <code>SentTimestamp</code> - returns the time when the message was sent to
 the queue (epoch time in milliseconds).</p></div></div><div class="top"><p class="src"><a name="v:rmMaxNumberOfMessages" class="def">rmMaxNumberOfMessages</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a>)</p><div class="doc"><p>The maximum number of messages to return. Amazon SQS never returns more
 messages than this value but may return fewer. Values can be from 1 to 10.
 Default is 1.</p><p>All of the messages are not necessarily returned.</p></div></div><div class="top"><p class="src"><a name="v:rmMessageAttributeNames" class="def">rmMessageAttributeNames</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> [Text]</p><div class="doc"><p>The name of the message attribute, where <em>N</em> is the index. The message
 attribute name can contain the following characters: A-Z, a-z, 0-9,
 underscore (_), hyphen (-), and period (.). The name must not start or end
 with a period, and it should not have successive periods. The name is case
 sensitive and must be unique among all attribute names for the message. The
 name can be up to 256 characters long. The name cannot start with &quot;AWS.&quot; or
 &quot;Amazon.&quot; (or any variations in casing), because these prefixes are reserved
 for use by Amazon Web Services.</p><p>When using <code><a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></code>, you can send a list of attribute names to
 receive, or you can return all of the attributes by specifying <a href="All.html">All</a> or &quot;.*&quot;
 in your request. You can also use &quot;foo.*&quot; to return all message attributes
 starting with the &quot;foo&quot; prefix.</p></div></div><div class="top"><p class="src"><a name="v:rmQueueUrl" class="def">rmQueueUrl</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> Text</p><div class="doc"><p>The URL of the Amazon SQS queue to take action on.</p></div></div><div class="top"><p class="src"><a name="v:rmVisibilityTimeout" class="def">rmVisibilityTimeout</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a>)</p><div class="doc"><p>The duration (in seconds) that the received messages are hidden from
 subsequent retrieve requests after being retrieved by a <code><a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a></code>
 request.</p></div></div><div class="top"><p class="src"><a name="v:rmWaitTimeSeconds" class="def">rmWaitTimeSeconds</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessage">ReceiveMessage</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Int.html#t:Int">Int</a>)</p><div class="doc"><p>The duration (in seconds) for which the call will wait for a message to
 arrive in the queue before returning. If a message is available, the call
 will return sooner than WaitTimeSeconds.</p></div></div><h1 id="g:4">Response</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ReceiveMessageResponse" class="def">ReceiveMessageResponse</a></p><div class="subs instances"><p id="control.i:ReceiveMessageResponse" class="caption collapser" onclick="toggleSection('i:ReceiveMessageResponse')">Instances</p><div id="section.i:ReceiveMessageResponse" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Read.html#t:Read">Read</a> <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.8.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Semigroup <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromXML <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:5">Response constructor</h2><div class="top"><p class="src"><a name="v:receiveMessageResponse" class="def">receiveMessageResponse</a> :: <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></p><div class="doc"><p><code><a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a></code> constructor.</p><p>The fields accessible through corresponding lenses are:</p><ul><li><code><a href="Network-AWS-SQS-ReceiveMessage.html#v:rmrMessages">rmrMessages</a></code> <code>::</code> [<code><a href="Network-AWS-SQS-Types.html#t:Message">Message</a></code>]</li></ul></div></div><h2 id="g:6">Response lenses</h2><div class="top"><p class="src"><a name="v:rmrMessages" class="def">rmrMessages</a> :: Lens' <a href="Network-AWS-SQS-ReceiveMessage.html#t:ReceiveMessageResponse">ReceiveMessageResponse</a> [<a href="Network-AWS-SQS-Types.html#t:Message">Message</a>]</p><div class="doc"><p>A list of messages.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>